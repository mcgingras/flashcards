(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t){e.exports="data:image/png;base64,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"},115:function(e,t,a){e.exports=a.p+"static/media/plus.4750e2e9.svg"},116:function(e,t,a){e.exports=a.p+"static/media/triangle.e2c67ba1.svg"},117:function(e,t,a){e.exports=a.p+"static/media/square.03c18ccd.svg"},118:function(e,t,a){e.exports=a.p+"static/media/link.ab7db770.svg"},131:function(e,t,a){e.exports=a(301)},136:function(e,t,a){},301:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(18),o=a.n(r),i=a(60),l=a(23),c=a(25),A=a(26),u=a(29),g=a(27),p=a(28),m=(a(136),a(62)),d=a.n(m),h=(a(87).config(),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(g.a)(t).call(this,e))).login=function(){var e=a.state.web3.eth.coinbase;null!=e?fetch(window.location.href+"user/"+e).then(function(e){return e.json()}).then(function(t){return t.length>0?t[0]:a.handleSignup(e)}).then(a.handleSignMessage).then(a.handleAuthenticate):a.setState({errors:[{message:"Not web3 connection. Please log into metamask."}]})},a.handleSignup=function(e){fetch(window.location.href+"user/",{body:JSON.stringify({publicAddress:e}),headers:{"Content-Type":"application/json"},method:"POST"}).then(function(e){return e.json()})},a.handleSignMessage=function(e){var t=e.publicAddress,n=e.nonce,s=a.state.web3;return new Promise(function(e,a){return s.personal.sign(s.fromUtf8("I am signing my one-time nonce: ".concat(n)),t,function(n,s){return n?a(n):e({publicAddress:t,signature:s})})})},a.handleAuthenticate=function(e){var t=e.publicAddress,n=e.signature;fetch(window.location.href+"auth",{body:JSON.stringify({publicAddress:t,signature:n}),headers:{"Content-Type":"application/json"},method:"POST"}).then(function(e){return e.json()}).then(function(e){sessionStorage.setItem("bearer",e),sessionStorage.setItem("publicAddress",t),a.props.login()})},a.state={web3:null,errors:[]},a}return Object(p.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){console.log(window.location.href);var e=window.web3?new d.a(window.web3.currentProvider):new d.a(new d.a.providers.HttpProvider("https://mainnet.infura.io/v3/"));this.setState({web3:e})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container--auth"},this.state.errors.map(function(e){return s.a.createElement("div",null,e.message)}),s.a.createElement("p",null,"Create and run your own market making strategies on Veil."),s.a.createElement("button",{className:"button--login",onClick:function(){return e.login()}},"Login With Metamask"))}}]),t}(n.Component)),C=a(114),b=a.n(C),f=a(115),E=a.n(f),y=function(e){return s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"header--item"},s.a.createElement("img",{src:b.a,className:"logo"}),e.isAuth&&s.a.createElement("p",null,"Connected to ",sessionStorage.getItem("publicAddress"))),s.a.createElement("div",{className:"header--item"},s.a.createElement("p",null,"All Strategies"),s.a.createElement("button",{className:"button--add",onClick:function(){return e.onAddStrategy()}},s.a.createElement("img",{src:E.a}),"New Strategy")))},w=a(78),v=a(120),F=a.n(v),B=a(122),I=a.n(B),S=a(30),N=a.n(S),k=a(121),O=a.n(k),L=a(79),W=a.n(L),Y=a(116),U=a.n(Y),Q=a(117),q=a.n(Q),V=a(118),M=a.n(V),j=Object(w.withStyles)(function(e){return{head:{backgroundColor:"#19191C",color:"#DADADA",borderBottom:"1px solid #343434",whiteSpace:"nowrap",overflow:"hidden",fontSize:"15px"},body:{whiteSpace:"nowrap",overflow:"hidden"}}})(N.a),X=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(g.a)(t).call(this,e))).state={web3:null,strategies:[]},a}return Object(p.a)(t,e),Object(A.a)(t,[{key:"componentWillMount",value:function(){var e=this;console.log(sessionStorage.getItem("publicAddress")),fetch("http://localhost:3000/strategy/user/".concat(sessionStorage.getItem("publicAddress"))).then(function(e){return e.json()}).then(function(t){return e.setState({strategies:t})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:this.props.classes.root},s.a.createElement(F.a,{className:this.props.classes.table},s.a.createElement(O.a,null,s.a.createElement(W.a,null,s.a.createElement(j,null),s.a.createElement(j,null,"Market"),s.a.createElement(j,null,"Last Trade"),s.a.createElement(j,null,"Target %"),s.a.createElement(j,null,"Spread"),s.a.createElement(j,null,"Amount"),s.a.createElement(j,null,"Position"),s.a.createElement(j,null,"Actions "))),s.a.createElement(I.a,null,this.state.strategies.map(function(t){return s.a.createElement(W.a,{key:t.id,className:e.props.classes.row},s.a.createElement(N.a,{className:e.props.classes.cell},s.a.createElement("div",{className:t.active?"market--toggle market--toggle-active":"market--toggle market--toggle-inactive"})),s.a.createElement(N.a,{scope:"row",className:e.props.classes.cell},s.a.createElement("div",null,s.a.createElement("div",{className:"container--flex"},s.a.createElement("span",{className:"tag tag--purple"},t.channel.toUpperCase()),s.a.createElement("a",{onClick:function(){window.open("https://kovan.veil.co/market/"+t.market)},className:"market--link"},"View Market",s.a.createElement("img",{src:M.a}))),s.a.createElement("p",{className:"market--title"},t.name))),s.a.createElement(N.a,{className:e.props.classes.cell},"null"),s.a.createElement(N.a,{className:e.props.classes.cell},t.target,"%"),s.a.createElement(N.a,{className:e.props.classes.cell},t.spread,"%"),s.a.createElement(j,{className:e.props.classes.cell},s.a.createElement("span",null,"".concat(t.amount," ETH"))),s.a.createElement(N.a,{className:e.props.classes.cell},"null"),s.a.createElement(j,{className:e.props.classes.cell},s.a.createElement("button",{onClick:function(){return e.props.editStrategy(t)},className:"button button-grey"},"Edit"),t.active?s.a.createElement("button",{onClick:function(){return e.props.toggleStrategy(t,!1)},className:"button button-red"},s.a.createElement("img",{src:q.a,alt:"square"}),"Stop"):s.a.createElement("button",{onClick:function(){return e.props.toggleStrategy(t,!0)},className:"button button-purple"},s.a.createElement("img",{src:U.a,alt:"square"}),"Restart")))}))))}}]),t}(n.Component),x=Object(w.withStyles)(function(e){return{root:{overflowX:"auto",padding:"0 20px"},table:{minWidth:700,border:"1px solid #000",borderRadius:"5px"},cell:{color:"#FFFFFF",borderBottom:"1px solid #343434",fontSize:"18px"},row:{backgroundColor:"#19191C"}}})(X),H=a(32),K=a(123),D=a.n(K),z=a(65),T=a.n(z),G=a(63),R=a.n(G),P=a(130),Z={control:function(e){return Object(l.a)({},e,{backgroundColor:"white"})},option:function(e,t){t.data;var a=t.isDisabled;t.isFocused,t.isSelected;return Object(l.a)({},e,{backgroundColor:a?"red":"#FFF",color:"#555",cursor:a?"not-allowed":"default","&:hover":{backgroundColor:"#EEE"}})}},J=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(g.a)(t).call(this,e))).getValue=function(){var e=a.state.options.filter(function(e){return e.value===a.props.strategy.market});return e.length>0?{value:a.props.strategy.market,label:e[0].label}:""},a.onInputChange=function(e){a.setState({selectedOption:e}),a.props.onMarketChange(e)},a.state={markets:[],isOpen:!0,options:[],selectedOption:""},a.onInputChange=a.onInputChange.bind(Object(H.a)(Object(H.a)(a))),a}return Object(p.a)(t,e),Object(A.a)(t,[{key:"componentWillMount",value:function(){var e=this;fetch("https://api.kovan.veil.market/api/v1/markets").then(function(e){return e.json()}).then(function(t){var a=t.data.results,n=a.reduce(function(e,t){return e.push({label:t.name,value:t.slug,isDisabled:!1}),e},[]);e.setState({options:n,markets:a})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(D.a,{open:this.props.isOpen,onClose:function(){return e.props.closeModal()}},s.a.createElement("div",{className:"modal--strategy"},s.a.createElement("h1",{className:"modal--strategy-title"},this.props.isEdit?"Edit Strategy":"New Strategy"),s.a.createElement("form",{className:"modal--strategy-form",onSubmit:this.props.isEdit?this.props.updateStrategy:this.props.submitStrategy},this.props.errors.map(function(e){return s.a.createElement("div",{className:"error"},e.message)}),s.a.createElement("label",null,"Market"),s.a.createElement(P.a,{isSearchable:!0,placeholder:"Search Markets",value:this.getValue(),onChange:this.onInputChange,options:this.state.options,styles:Z}),s.a.createElement("label",null,"Target",s.a.createElement(T.a,{disableFocusListener:!0,disableTouchListener:!0,placement:"right",title:"The price you think the market should center around. Must be between 0-1."},s.a.createElement("img",{src:R.a,alt:"tooltip"}))),s.a.createElement("input",{type:"text",name:"target",onChange:this.props.onInputChange,value:this.props.strategy.target}),s.a.createElement("label",null,"Spread",s.a.createElement(T.a,{disableFocusListener:!0,disableTouchListener:!0,placement:"right",title:"How much variation in price you are willing to offer."},s.a.createElement("img",{src:R.a,alt:"tooltip"}))),s.a.createElement("input",{type:"text",name:"spread",onChange:this.props.onInputChange,value:this.props.strategy.spread}),s.a.createElement("label",null,"Amount",s.a.createElement(T.a,{disableFocusListener:!0,disableTouchListener:!0,placement:"right",title:"How much ETH you want to stake in this market."},s.a.createElement("img",{src:R.a,alt:"tooltip"}))),s.a.createElement("input",{type:"text",name:"amount",onChange:this.props.onInputChange,value:this.props.strategy.amount}),s.a.createElement("div",{className:"container--button"},s.a.createElement("button",{onClick:function(){return e.props.closeModal()},className:"button-red"},"Cancel"),this.props.isEdit?s.a.createElement("button",{className:"button-purple"},"Update Strategy"):s.a.createElement("button",{className:"button-purple"},"Start Strategy"))))))}}]),t}(n.Component),_=(a(87).config(),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(g.a)(t).call(this,e))).onAddStrategy=function(){a.setState({isOpen:!0,isEdit:!1})},a.submitStrategy=function(e){e.preventDefault();var t=a.state.strategy;t.publicAddress=sessionStorage.getItem("publicAddress"),fetch(window.location.href+"strategy",{body:JSON.stringify(t),headers:{Authorization:sessionStorage.getItem("bearer"),"Content-Type":"application/json"},method:"POST"}).then(function(e){return e.json()}).then(function(e){e.errors?(console.log(e.errors),a.setState({errors:e.errors})):a.setState({isOpen:!1})})},a.closeModal=function(){a.setState({isOpen:!1,strategy:{}})},a.editStrategy=function(e){a.setState({isOpen:!0,isEdit:!0,strategy:e})},a.toggleStrategy=function(e,t){var n=e._id;fetch(window.location.href+"strategy/".concat(n),{body:JSON.stringify(Object(l.a)({},e,{active:t})),headers:{Authorization:sessionStorage.getItem("bearer"),"Content-Type":"application/json"},method:"PUT"}).then(function(e){e.json(),a.setState({isOpen:!1})}),window.location.reload(!0)},a.updateStrategy=function(){var e=a.state.strategy,t=e._id;delete e._id,delete e.__v,fetch(window.location.href+"strategy/".concat(t),{body:JSON.stringify(e),headers:{Authorization:sessionStorage.getItem("bearer"),"Content-Type":"application/json"},method:"PUT"}).then(function(e){e.json(),a.setState({isOpen:!1})})},a.onInputChange=function(e){var t=e.target,n=t.name,s=t.value;console.log(a.state.strategy),a.setState(function(e){return Object(l.a)({},e,{strategy:Object(l.a)({},e.strategy,Object(i.a)({},n,s))})})},a.onMarketChange=function(e){var t=e.value;fetch("https://api.kovan.veil.market/api/v1/markets/".concat(t)).then(function(e){return e.json()}).then(function(e){var n=e.data,s=n.name,r=n.channel;a.setState(function(e){return Object(l.a)({},e,{strategy:Object(l.a)({},e.strategy,{market:t,name:s,channel:r})})})})},a.state={isAuth:!1,isOpen:!1,isEdit:!1,strategy:{},errors:[]},a}return Object(p.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){sessionStorage.getItem("publicAddress")&&this.setState({isAuth:!0})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement(y,{isAuth:this.state.isAuth,onAddStrategy:this.onAddStrategy}),this.state.isAuth?s.a.createElement("div",null,s.a.createElement(x,{editStrategy:this.editStrategy,toggleStrategy:this.toggleStrategy}),this.state.isOpen&&s.a.createElement(J,{isOpen:this.state.isOpen,isEdit:this.state.isEdit,strategy:this.state.strategy,submitStrategy:this.submitStrategy,updateStrategy:this.updateStrategy,closeModal:this.closeModal,onInputChange:this.onInputChange,onMarketChange:this.onMarketChange,errors:this.state.errors})):s.a.createElement(h,{login:function(){return e.setState({isAuth:!0})}}))}}]),t}(n.Component)),$=a(128),ee=a(46),te=a(127);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement($.a,{store:Object(ee.c)(Object(ee.a)(te.a))},s.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},63:function(e,t,a){e.exports=a.p+"static/media/question.34fb002c.svg"}},[[131,1,2]]]);
//# sourceMappingURL=main.87fb9cef.chunk.js.map